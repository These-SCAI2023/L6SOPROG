\newcommand{\numTD}{TD1}
\newcommand{\themeTD}{Analyse en caractères}
\newcommand{\file}{toto.tex}

\input{./entete_TD_L6SOPROG}

\hrule
%%%%%%%%%%%%%%%%%%%%%%%%%EN-TETE%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\renewcommand{\contentsname}{Sommaire du TD}
%\tableofcontents
%\newpage

\noindent\fcolorbox{red}{lightgray}{
\begin{minipage}{12cm}
\section*{Objectifs}

\begin{itemize}
 \item Rappels de manipulations simples sur un texte avec l'environnement de travail spyder 
 \item Identifier les propriétés morphologiques d'une langue
 \item Les comparer à d'autres
\end{itemize}
\end{minipage}
}
\newline
\section{Identification de langue améliorée}
~\\
\vspace{-1cm}

\textbf{Données :}
\begin{enumerate}
  \item corpus multilingue vu en cours
\end{enumerate}

\textbf{Énoncé}

\begin{enumerate}
  \item En vous appuyant sur la \textit{baseline} en mots vue dans le TD4 du semestre 5, travailler avec des tri-grammes de caractères
  \item ré-évaluer ce nouveau modèle
  \item Donner le diagnostic de langue avec un score de confiance en pourcentage\\
  \ding{219} Évaluer le taux de réussite du programme en calculant les VP, FP, FN,VN par exemple.
  \item Donner les autres langue possibles du document \ding{219} Langues proches
  \item Représenter graphiquement avec Matplotlib\footnote{\url{https://matplotlib.org/}} ou Seaborn\footnote{\url{https://seaborn.pydata.org/}} pour chaque langue quelles sont les langues les plus proches.
\end{enumerate}

\textbf{Attendus}
\begin{enumerate}
  \item Le programme doit être présenté selon \textit{les bonnes pratiques de programmation}
  \item Le programme doit être factorisé
  \item Vous devez choisir des structures de données pertinente pour stocker vos données
  \item Le programme doit être développé sous l'environnement spyder 
\end{enumerate}

\textbf{Principaux outils nécessaires :}
\begin{itemize}
  \item Json
  \item CountVectorizer/TfIdfVectorizer
\end{itemize}

\section{Bonus : Reconnaissance d'entités nommées au format IOB}

\textbf{Données :}
\begin{enumerate}
  \item Un jeu de données déjà annoté, au format CSV : \textit{CSV\_annote} sur Moodle
 \item des textes a annoter automatiquement 
\end{enumerate}

\textbf{Résultat attendu :}

\begin{enumerate}
  
  \item Aligner les entités pour calculer la précision, le rappel et le f-score
\end{enumerate}   
  


\textbf{Principaux outils nécessaires :}
\begin{itemize}
  \item csv 
  \item Spacy
  \item Json
  
\end{itemize}



\vspace{0.5cm}
\subsection*{Programmer avec spaCy}
\vspace{0.5cm}

\url{https://spacy.io/usage/linguistic-features#named-entities}

\vspace{0.5cm}

\begin{python}
import spacy

nlp = spacy.load("en_core_web_sm")
doc = nlp("San Francisco considers banning sidewalk delivery robots")

# document level
ents = [(e.text, e.start_char, e.end_char, e.label_) for e in doc.ents]
print(ents)

# token level
ent_san = [doc[0].text, doc[0].ent_iob_, doc[0].ent_type_]
ent_francisco = [doc[1].text, doc[1].ent_iob_, doc[1].ent_type_]
print(ent_san)  # ['San', 'B', 'GPE']
print(ent_francisco)  # ['Francisco', 'I', 'GPE']
\end{python}

Le programme doit permettre de :

\begin{itemize}
     
    \item Annoter les textes au format IOB avec spaCy : \textit{Texte}. Vous devez récupérer : 
    \begin{itemize}
    	\item les labels type de spaCy (PER : personne ; LOC : localisation ; MISC : Divers ; ....) 
    	\item les labels \textit{I : Inside – O : outside – B : beginning} 
    \end{itemize}
  	\item Récupérer les Annotations dans les csv et les mettre au format IOB : \textit{CSV\_annotes}
    \item Sauvegarder les données pour chaque texte dans un fichier .bio selon la structure de données qui vous semble pertinente$^*$. Les fichiers de sorties se nomment comme les fichiers d'entrées.

	\item indiquer le temps de travail de l'outil en l'affichant
\end{itemize}

Les données sont structurées par spaCy$^*$ comme suit :

 \begin{python}   
['San', 'B', 'GPE']
['Francisco', 'I', 'GPE']
 \end{python}



\begin{center}

\noindent\fcolorbox{blue}{lightgray}{
	\begin{minipage}{15cm}
\section*{Devoir}

\begin{itemize}
 \item 1 script python .py
 \item quelques phrases de conclusion sur les résultats (qu’est-ce qui était attendu, qu’est-ce qui est inattendu ?)
	\item quelques phrases sur l'environnement de développement Spyder comparé à Jupyter notebook, point fort, faible ...

Vous déposerez sur Moodle une archive zip nommée NUMETU.zip (où NUMETU est votre numéro d’étudiant) et contenant :


\item Votre code exporté au format Python .py (et pas ipynb)
\item le PDF du document que vous avez produit
 
 
 Date limite : indiquée sur le Moodle !
\end{itemize}
\end{minipage}
}
	\end{center}
